$schema: 'https://moonrepo.dev/schemas/project.json'

tasks:
  build:
    command:
      - vite
      - build
    deps:
      - ~:typecheck
    platform: node
  lib:
    command:
      - vite
      - build
    args:
      - --mode=lib
    deps:
      - ~:typecheck
    platform: node
  minify:
    command:
      - node
      - esbuild.build.js
    deps:
      - ~:lib
  size:
    command:
      - size-limit
    deps:
      - ~:minify
  typecheck:
    command: vue-tsc
    platform: node
  dev:
    command: vite
    local: true
    platform: node
